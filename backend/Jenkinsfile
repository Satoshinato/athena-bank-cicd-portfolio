pipeline {
    agent any // Le dice a Jenkins que puede usar cualquier 'agente' o m치quina disponible

    stages {
        stage('Checkout') { // Etapa para descargar el c칩digo
            steps {
                // Este comando clona tu repositorio en el espacio de trabajo de Jenkins
                checkout scm
                echo 'C칩digo descargado.'
            }
        }
        stage('Build Backend Image') { // Etapa para construir la imagen
            steps {
                // Nos movemos al directorio 'backend' antes de ejecutar comandos
                dir('backend') {
                    echo 'Construyendo la imagen Docker del backend...'
                    // Ejecuta el comando de construcci칩n de Docker
                    sh 'docker build -t athena-bank-backend:latest .'
                }
            }
        }
    }
}